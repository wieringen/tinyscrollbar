/*! tinyscrollbar - v2.1.7 - 2014-05-21
 * http://www.baijs.com/tinyscrollbar
 *
 * Copyright (c) 2014 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */

(function(e,t){"use strict";function n(){for(var e=1;e<arguments.length;e++){for(var t in arguments[e]){if(arguments[e].hasOwnProperty(t)){arguments[0][t]=arguments[e][t]}}}return arguments[0]}function s(s,o){function E(){u.update();x();return u}function S(){p.style[b]=u.contentPosition/u.trackRatio+"px";l.style[b]=-u.contentPosition+"px";c.style[y]=u.trackSize+"px";h.style[y]=u.trackSize+"px";p.style[y]=u.thumbSize+"px"}function x(){if(m){f.ontouchstart=function(e){if(1===e.touches.length){T(e.touches[0]);e.stopPropagation()}};c.ontouchstart=function(e){if(1===e.touches.length){T(e.touches[0]);e.stopPropagation()}}}else{p.onmousedown=T;h.onmousedown=C}e.addEventListener("resize",function(){u.update("relative")},true);if(u.options.wheel&&e.addEventListener){s.addEventListener(g,N,false)}else if(u.options.wheel){s.onmousewheel=N}}function T(e){a.className+=" noSelect";d=v?e.pageX:e.pageY;u.thumbPosition=parseInt(p.style[b],10)||0;if(m){document.ontouchmove=function(e){e.preventDefault();C(e.touches[0])};document.ontouchend=k}else{document.onmousemove=C;document.onmouseup=p.onmouseup=k}}function N(t){if(u.contentRatio<1){var n=t||e.event,r="delta"+u.options.axis.toUpperCase(),i=-(n[r]||n.detail||-1/3*n.wheelDelta)/40;u.contentPosition-=i*u.options.wheelSpeed;u.contentPosition=Math.min(u.contentSize-u.viewportSize,Math.max(0,u.contentPosition));s.dispatchEvent(w);p.style[b]=u.contentPosition/u.trackRatio+"px";l.style[b]=-u.contentPosition+"px";if(u.options.wheelLock||u.contentPosition!==u.contentSize-u.viewportSize&&u.contentPosition!==0){n.preventDefault()}}}function C(e){if(u.contentRatio<1){var t=v?e.pageX:e.pageY,n=t-d;if(u.options.scrollInvert&&m){n=d-t}var r=Math.min(u.trackSize-u.thumbSize,Math.max(0,u.thumbPosition+n));u.contentPosition=r*u.trackRatio;s.dispatchEvent(w);p.style[b]=r+"px";l.style[b]=-u.contentPosition+"px"}}function k(){a.className=a.className.replace(" noSelect","");document.onmousemove=document.onmouseup=null;p.onmouseup=null;document.ontouchmove=document.ontouchend=null}this.options=n({},i,o);this._defaults=i;this._name=r;var u=this,a=document.querySelectorAll("body")[0],f=s.querySelectorAll(".viewport")[0],l=s.querySelectorAll(".overview")[0],c=s.querySelectorAll(".scrollbar")[0],h=c.querySelectorAll(".track")[0],p=c.querySelectorAll(".thumb")[0],d=0,v=this.options.axis==="x",m="ontouchstart"in document.documentElement,g="onwheel"in document||document.documentMode>=9?"wheel":document.onmousewheel!==t?"mousewheel":"DOMMouseScroll",y=v?"width":"height",b=v?"left":"top",w=document.createEvent("HTMLEvents");w.initEvent("move",true,true);this.contentPosition=0;this.viewportSize=0;this.contentSize=0;this.contentRatio=0;this.trackSize=0;this.trackRatio=0;this.thumbSize=0;this.thumbPosition=0;this.update=function(e){var t=y.charAt(0).toUpperCase()+y.slice(1).toLowerCase();this.viewportSize=f["offset"+t];this.contentSize=l["scroll"+t];this.contentRatio=this.viewportSize/this.contentSize;this.trackSize=this.options.trackSize||this.viewportSize;this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio));this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize;d=h.offsetTop;var n=c.className;c.className=this.contentRatio>=1?n+" disable":n.replace(" disable","");switch(e){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(this.contentSize-this.viewportSize,Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(e,10)||0}S()};return E()}var r="tinyscrollbar",i={axis:"y",wheel:true,wheelSpeed:40,wheelLock:true,scrollInvert:false,trackSize:false,thumbSize:false};var o=function(e,t){return new s(e,t)};if(typeof define=="function"&&define.amd){define(function(){return o})}else if(typeof module==="object"&&module.exports){module.exports=o}else{e.tinyscrollbar=o}})(window);